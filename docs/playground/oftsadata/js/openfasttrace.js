/*! For license information please see openfasttrace.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/main/css/openfasttrace.scss":(e,t,s)=>{s.r(t)},"./src/main/js/controller/oft_state_builder.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OftStateBuilder=void 0;const i=s("./src/main/js/model/oft_state.ts"),n=s("./src/main/js/model/filter.ts");t.OftStateBuilder=class{constructor(e=new i.OftState){this.oftState=e}fromModel(e,t){return t.length>0?this.oftState.selectedIndex=0:this.oftState.selectedIndex=null,Object.entries(e).forEach((([e,t])=>{this.oftState.selectedFilters.set(e,new n.SelectionFilter(e,[]))})),this}setSelectedIndex(e){return console.log("OftStateBuilder.setSelectedIndex: "+e),this.oftState.selectedIndex=e,this}setSelectedFilters(e){return this.oftState.selectedFilters=e,this}setFocusIndex(e){this.oftState.focusIndex=e}setUnfocusedFilters(e){return this.oftState.unfocusedFilters=e,this}setFocusType(e){this.oftState.coverType=e}build(){return this.oftState.clone()}}},"./src/main/js/controller/oft_state_controller.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OftStateController=void 0;const i=s("./src/main/js/model/oft_state.ts"),n=s("./src/main/js/controller/oft_state_builder.ts"),o=s("./src/main/js/utils/log.ts"),l=s("./src/main/js/model/filter.ts"),r=s("./src/main/js/model/change_event.ts"),c=s("./src/main/js/model/oft_state_history.ts");t.OftStateController=class{constructor(e=(new n.OftStateBuilder).build(),t=new c.OftStateHistory){this.oftState=e,this.oftStateHistory=t,this.changeListeners=new Map,this.isInitialized=!1,this.log=new o.Log("OftStateController")}init(){const e=this.createChangeEvent(r.EventType.Selection,r.EventType.Filters,r.EventType.Focus);this.oftStateHistory.init(e),this.sendChangeEvent(e),this.isInitialized=!0}selectItem(e=this.oftState.selectedIndex){this.log.info("selectItem ",e),e!=this.oftState.selectedIndex?(this.oftState.selectedIndex=e,this.notifyChangeWithHistory(r.EventType.Selection)):this.notifyChangeWithoutHistory(r.EventType.Selection)}selectAndShowItem(e){this.log.info("selectAndShowItem",e),e!=this.oftState.focusIndex&&this.oftState.selectedFilters.clear(),this.oftState.selectedIndex!=e?(this.oftState.selectedIndex=e,this.oftState.selectedFilters=new Map,this.notifyChangeWithHistory(r.EventType.Selection,r.EventType.Filters)):this.notifyChangeWithoutHistory(r.EventType.Selection)}unselectItem(){this.log.info("unselectItem",this.oftState.selectedIndex),null!=this.oftState.selectedIndex&&(this.oftState.selectedIndex=null,this.notifyChangeWithoutHistory(r.EventType.Selection))}focusItem(e,t,s=null){this.log.info("focusItem",e),(this.createFocus(e,t,s)||this.adjustFocus(e,t,s))&&this.notifyChangeWithHistory(r.EventType.Selection,r.EventType.Focus,r.EventType.Filters)}createFocus(e,t,s=null){return this.oftState.focusIndex!=e&&(this.oftState.focusIndex=e,this.oftState.coverType=t,this.oftState.selectedIndex=null,this.oftState.unfocusedFilters=this.oftState.selectedFilters,this.oftState.unfocusedFilters.delete(l.IndexFilter.FILTER_NAME),null!=s&&(this.oftState.selectedFilters=s),this.log.info("focusing item",this.oftState),!0)}adjustFocus(e,t,s=null){return this.oftState.focusIndex==e&&(this.oftState.coverType=t,null!=s&&s.forEach(((e,t)=>{this.oftState.selectedFilters.set(t,e)})),this.log.info("adjust focus",this.oftState),!0)}unFocusItem(e){this.log.info("unfocusItem",e),this.oftState.focusIndex==e&&null!=this.oftState.focusIndex&&(this.oftState.selectedIndex=e,this.oftState.focusIndex=null,this.oftState.coverType=i.CoverType.covering,this.log.info("unFocusItem: unfocusedFilters=",this.oftState.unfocusedFilters),this.oftState.selectedFilters=this.oftState.unfocusedFilters,this.oftState.unfocusedFilters=new Map,this.notifyChangeWithHistory(r.EventType.Focus,r.EventType.Filters,r.EventType.Selection))}selectFilters(e=new Map){this.log.info("selectFilters filters",e),e.size>0?(e.forEach(((e,t)=>{this.oftState.selectedFilters.set(t,e)})),this.log.info("selectFilters oftState.",this.oftState.selectedFilters),this.notifyChangeWithHistory(r.EventType.Filters,r.EventType.Selection)):this.notifyChangeWithoutHistory(r.EventType.Filters,r.EventType.Selection)}clearFilters(){this.oftState.selectedFilters.size>0?(this.oftState.selectedFilters.clear(),this.notifyChangeWithHistory(r.EventType.Filters)):this.notifyChangeWithoutHistory(r.EventType.Filters)}toPreviousState(){this.log.info("toPreviousState");const e=this.oftStateHistory.toPreviousState();null!=e&&(this.oftState.copyFrom(e.oftState),this.sendChangeEvent(e))}toNextState(){this.log.info("toNextState");const e=this.oftStateHistory.toNextState();null!=e&&(this.oftState.copyFrom(e.oftState),this.sendChangeEvent(e))}addChangeListener(e,...t){t.forEach((t=>{const s=this.changeListeners.has(t)?this.changeListeners.get(t):new Array;s.push(e),this.changeListeners.set(t,s)})),this.initializeListener(e)}initializeListener(e){this.isInitialized&&e(new r.ChangeEvent(r.eventTypeIds,this.oftState.clone()))}removeChangeListener(e){const t=new Map;this.changeListeners.forEach(((s,i,n)=>{t.set(i,s.filter((t=>t!=e)))})),this.changeListeners=t}notifyChangeWithHistory(...e){this.log.info("notifyChangeWithHistory",...e);const t=this.oftStateHistory.pushEvent(this.createChangeEvent(...e));this.sendChangeEvent(t)}notifyChangeWithoutHistory(...e){this.log.info("notifyChangeWithoutHistory",...e);const t=this.createChangeEvent(...e);this.sendChangeEvent(t)}createChangeEvent(...e){const t=0==e.length?r.eventTypeIds:Array.of(...e);return new r.ChangeEvent(t,this.oftState.clone())}sendChangeEvent(e){this.log.info("sendChangeEvent",e);new Set(Array.of(...this.changeListeners).filter((([t,s])=>e.types.includes(t))).flatMap((([e,t])=>t))).forEach((t=>t(e)))}}},"./src/main/js/controller/spec_items_controller.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpecItemsController=void 0;const i=s("./src/main/js/view/spec_item_element.ts"),n=s("./src/main/js/utils/log.ts"),o=s("./src/main/js/view/focus_spec_item_element.ts"),l=s("./src/main/js/model/change_event.ts"),r="#focusitem";class c{constructor(e,t,s){this.oftStateController=e,this.specItemsElement=t,this.project=s,this.log=new n.Log("SpecItemsController"),this.focusSpecItemElement=null,this.selectedIndex=null,this.specItems=new Map,this.specItemElements=[],this.specItemToElement=new Array,this.filterOrFocusChangeListener=e=>{e.handleFocusChange(((e,t,s)=>this.focusChange(e,t))),e.handleFilterChange(((e,t)=>this.filterChange(e,t)))},this.selectionChangeListener=e=>{const t=e.oftState.selectedIndex;this.selectSpecItem(t),this.scrollToSpecItem(t)},this._specItemsElement=$("#specitems")}init(e){this.log.info("init specitemCount",e.length),this.oftStateController.addChangeListener(this.filterOrFocusChangeListener,l.EventType.Focus,l.EventType.Filters),this.oftStateController.addChangeListener(this.selectionChangeListener,l.EventType.Selection),e.forEach((e=>{const t=this.createSpecItemElement(e);this.insertSpecItemAt(t),this.specItemToElement.push([e,t]),this.specItems.set(e.index,e)}))}createSpecItemElement(e){return new i.SpecItemElement(e,this.oftStateController,this.project)}createFocusSpecItemElement(e,t){return null==e&&this.log.info("SPECITEM MUST NOT BE NULL"),this.log.info("createFocusSpecItemElement index",e.index,"coverType",t),new o.FocusSpecItemElement(e,t,this.oftStateController,this.project)}insertSpecItemAt(e,t=-1){e.insertToAt(this._specItemsElement,t),e.activate(),this.specItemElements.push(e)}setFocusSpecItem(e,t){var s,i;this.log.info("setFocusSpecItem index",null==e?void 0:e.index,"coverType",t),null==e?(this.log.info("setFocusSpecItem remove"),this.removeFocusSpecItem(),$(r).hide()):(null===(s=this.focusSpecItemElement)||void 0===s?void 0:s.specItem.index)!=(null==e?void 0:e.index)?(this.log.info("setFocusSpecItem replace"),this.removeFocusSpecItem(),$(r).show(),this.focusSpecItemElement=this.createFocusSpecItemElement(e,t),this.focusSpecItemElement.insertToAt($(r),0),this.focusSpecItemElement.activate(),this.focusSpecItemElement.select()):(null===(i=this.focusSpecItemElement)||void 0===i?void 0:i.specItem.index)==(null==e?void 0:e.index)&&(this.log.info("setFocusSpecItem switch"),this.focusSpecItemElement.select(),this.focusSpecItemElement.cover(t))}removeFocusSpecItem(){this.log.info("removeFocusSpecItem"),null!=this.focusSpecItemElement&&(this.focusSpecItemElement.remove(),this.focusSpecItemElement=null)}focusChange(e,t){if(this.log.info(`focusChange focusIndex ${e} coverType ${t}`),null==e)this.removeFocusSpecItem();else{const s=this.specItems.get(e);this.setFocusSpecItem(s,t)}}filterChange(e,t){this.log.info("filterChange",e);const s=Array.from(e),i=c.getSpecItemsMatchingFilters(this.specItemToElement,s);this.showOnlySelectedSpecItemElements(i,t.selectedIndex)}static getSpecItemsMatchingFilters(e,t){return e.filter((([e,s])=>c.isMatchingAllFilters(e,t))).map((([e,t])=>t))}static isMatchingAllFilters(e,t){return t.every((([t,s])=>s.matches(e)))}showOnlySelectedSpecItemElements(e,t){this.specItemElements.forEach((s=>{e.includes(s)?s.activate():(s.deactivate(),s.specItem.index==t&&this.oftStateController.unselectItem())})),this.specItemsElement.updateNumberOfItems(e.length,null!=this.focusSpecItemElement)}selectSpecItem(e){var t,s;if(this.log.info("selectItem",e,"replaces",this.selectedIndex,e===this.selectedIndex),e!==this.selectedIndex&&(null!=this.selectedIndex&&(null===(t=this.specItemElements[this.selectedIndex])||void 0===t||t.unselect()),null!=e)){const t=this.specItemElements[e];null!=t&&t.isActive()?(null===(s=this.specItemElements[e])||void 0===s||s.select(),this.selectedIndex=e):this.oftStateController.unselectItem()}}scrollToSpecItem(e){if(this.log.info("scrollToSpecItem",e),null==e||e<0||e>=this.specItemElements.length)return!1;const t=this.specItemElements[e];if(!t.isActive())return!1;const s=this._specItemsElement.scrollTop(),i=this._specItemsElement.outerHeight();if(null==s||null==i)return!1;const n=s+i,o=t.getScrollPosition();return this.log.info("Scrolls",s,n,o),o>=s&&o<=n||(this.log.info("Scroll to",o),this._specItemsElement.scrollTop(o)),!0}}t.SpecItemsController=c},"./src/main/js/model/change_event.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeEvent=t.eventTypeIds=t.eventTypeValues=t.EventType=void 0;const i=s("./src/main/js/utils/collections.ts");var n;!function(e){e[e.Selection=0]="Selection",e[e.Filters=1]="Filters",e[e.Focus=2]="Focus"}(n||(t.EventType=n={})),t.eventTypeValues=(0,i.enumNames)(n),t.eventTypeIds=(0,i.enumIds)(n);t.ChangeEvent=class{constructor(e,t){this.types=e,this.oftState=t}handleSelectionChange(e){this.has(n.Selection)&&e(this.oftState.selectedIndex,this.oftState)}handleFocusChange(e){this.has(n.Focus)&&e(this.oftState.focusIndex,this.oftState.coverType,this.oftState)}handleFilterChange(e){this.has(n.Filters)&&e(this.oftState.selectedFilters,this.oftState)}has(e){return this.types.includes(e)}}},"./src/main/js/model/filter.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NameFilter=t.NameFilterTarget=t.IndexFilter=t.SelectionFilter=t.Filter=void 0;class s{constructor(e){this.filterName=e}}t.Filter=s;t.SelectionFilter=class extends s{constructor(e,t){super(e),this.filterIndexes=t}matches(e){if(0==this.filterIndexes.length)return!0;const t=this.getSpecItemValuesByFilterName(e,this.filterName);return null!=t&&t.some((e=>this.filterIndexes.includes(e)))}getSpecItemValuesByFilterName(e,t){if(Object.keys(e).includes(t))return Object.entries(e).filter((([e,s])=>e==t)).map((([e,t])=>Array.isArray(t)?t:"number"==typeof t?[t]:[])).flat()}};class i extends s{constructor(e){super(i.FILTER_NAME),this.acceptedIndexes=e}matches(e){return null==this.acceptedIndexes||this.acceptedIndexes.includes(e.index)}}var n;t.IndexFilter=i,i.FILTER_NAME="%index%",function(e){e[e.name=0]="name",e[e.content=1]="content"}(n||(t.NameFilterTarget=n={}));class o extends s{constructor(e,t=!1,s=n.name){super(o.FILTER_NAME),this.acceptedName=e,this.isRegExp=t,this.nameFilterTarget=s}matches(e){if(""==this.acceptedName)return!0;return(this.nameFilterTarget==n.name?Array.of(e.title,e.id):Array.of(e.content)).map((e=>this.isRegExp?null!=e.match(this.acceptedName):e.includes(this.acceptedName.toLowerCase()))).some((e=>e))}}t.NameFilter=o,o.FILTER_NAME="%name%"},"./src/main/js/model/oft_state.ts":(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.OftState=t.CoverType=void 0,function(e){e[e.covering=0]="covering",e[e.coveredBy=1]="coveredBy"}(s||(t.CoverType=s={}));class i{constructor(e=null,t=new Map,i=null,n=new Map,o=s.covering){this._selectedIndex=e,this._selectedFilters=t,this._focusIndex=i,this._unfocusedFilters=n,this._coverType=o}clone(){return new i(this._selectedIndex,new Map(this._selectedFilters),this._focusIndex,new Map(this._unfocusedFilters),this._coverType)}copyFrom(e){this._selectedIndex=e._selectedIndex,this._selectedFilters=new Map(e._selectedFilters),this._focusIndex=e._focusIndex,this._unfocusedFilters=new Map(e._unfocusedFilters),this._coverType=e._coverType}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._selectedIndex=e}get selectedFilters(){return this._selectedFilters}set selectedFilters(e){this._selectedFilters=e}get focusIndex(){return this._focusIndex}set focusIndex(e){this._focusIndex=e}isFocused(){return null!=this._focusIndex}isFocusSelected(){return null!=this._focusIndex&&null==this.selectedIndex}get unfocusedFilters(){return this._unfocusedFilters}set unfocusedFilters(e){this._unfocusedFilters=e}get coverType(){return this._coverType}set coverType(e){this._coverType=e}}t.OftState=i},"./src/main/js/model/oft_state_history.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OftStateHistory=t.HistoryItem=void 0;const i=s("./src/main/js/model/change_event.ts"),n=s("./src/main/js/utils/log.ts");class o{constructor(e){this.changeEvent=e}}t.HistoryItem=o;t.OftStateHistory=class{constructor(e=[],t=0,s=500){this.history=e,this.currentPosition=t,this.maxSize=s,this.log=new n.Log("OftStateHistory")}init(e){this.log.info("init length",this.history.length,"currentPosition",this.currentPosition),0==this.history.length&&(this.log.info("Adding initial state",e),this.history.push(new o(e)))}length(){return this.history.length}pushEvent(e,t=this.currentPosition){this.log.info("pushState position",t,"event",e);const s=new o(e);return this.history.splice(t,0,s),this.currentPosition=this.limitHistorySize(t),e}pullState(e=this.currentPosition){return e<0||e+1>=this.history.length?null:1==this.history.length?(this.currentPosition=0,this.history[0].changeEvent):(this.currentPosition=e,this.history.splice(e,1)[0].changeEvent)}peekState(e=this.currentPosition){return e>=0||e<this.history.length?this.history[e].changeEvent:null}toPreviousState(){if(this.currentPosition+1>=this.history.length)return null;const e=this.history[this.currentPosition];this.log.info("history",this.history),this.currentPosition++;const t=this.history[this.currentPosition],s=new i.ChangeEvent(e.changeEvent.types,t.changeEvent.oftState);return this.log.info("toPreviousState position",this.currentPosition,"length",this.history.length,"event",s),s}toNextState(){if(this.currentPosition<1)return null;this.currentPosition--;const e=this.history[this.currentPosition].changeEvent;return this.log.info("toNextState position",this.currentPosition,"history",this.history.length,"event",e),e}limitHistorySize(e=this.currentPosition){if(this.history.length>this.maxSize){const t=e>=this.maxSize/2;this.history.splice(t?0:-1,1),t&&e--}return e}}},"./src/main/js/model/project.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Project=t.Field=void 0;const i=s("./src/main/js/model/specitems.ts");class n{constructor(e,t,s,i="",n,o=-1){this.id=e,this.label=void 0!==t?t:e,this.name=void 0!==s?s:this.label,this.tooltip=i,this.color=n,this.item_count=o}copyFromSameId(e){return null!=e&&e.id===this.id&&(null!=e.label&&e.label!=e.id&&(this.label=e.label),null!=e.name&&e.name!=e.id&&(this.name=e.name),null!=this.name&&this.name!=this.id||(this.name=this.label),""!=e.tooltip&&(this.tooltip=e.tooltip),null!=e.color&&(this.color=e.color),e.item_count>=0&&(this.item_count=e.item_count)),this}}t.Field=n;class o{constructor(e,t,s,i,n,l,r,c,a,h,d,m){this.projectName=e,this.types=t,this.typedFieldNames=s,this.tags=i,this.tagFieldNames=n,this.statusNames=l,this.statusFieldNames=r,this.itemCount=c,this.itemCovered=a,this.itemUncovered=h,this.fieldCounts=d,this.fieldModels=new Map,this.typeCount=new Array,this.uncoveredCount=new Array,this.statusCount=new Array,this.tagCount=new Array;const u=new Map(Object.entries(m));o.generateFieldModels(s,t,u,d).forEach(((e,t)=>this.fieldModels.set(t,e))),o.generateFieldModels(n,i,u,d).forEach(((e,t)=>this.fieldModels.set(t,e))),o.generateFieldModels(r,l,u,d).forEach(((e,t)=>this.fieldModels.set(t,e)))}getTypeFieldModel(){return this.getFieldModel(i.TYPE_FIELD_NAME)}hasField(e){return this.fieldModels.has(e)}getFieldModel(e){return this.fieldModels.has(e)?this.fieldModels.get(e):Array.of()}static generateFieldModels(e,t,s,i){return new Map(e.filter((e=>s.has(e))).map((e=>[e,o.createFieldModels(t,s.get(e),i.get(e))])))}static createFieldModels(e,t,s){const i=null!=t?new Map(t.map((e=>[e.id,e]))):new Map;return e.map((t=>{const n=e.indexOf(t),l=null!=s&&s.length>n?s[n]:-1;return o.createFieldModel(t,i.get(t),l)}))}static createFieldModel(e,t,s){const i=new n(e).copyFromSameId(t);return s>=0&&(i.item_count=s),i}}t.Project=o},"./src/main/js/model/specitems.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_ACCEPTED_INDEX=t.STATUS_FIELD_NAMES=t.TAG_FIELD_NAMES=t.TYPED_FIELD_NAMES=t.TYPE_FIELD_NAME=void 0,t.TYPE_FIELD_NAME="type",t.TYPED_FIELD_NAMES=[t.TYPE_FIELD_NAME,"provides","needs","covered","uncovered","covering","coveredBy","depends"],t.TAG_FIELD_NAMES=["tags"],t.STATUS_FIELD_NAMES=["status"],t.STATUS_ACCEPTED_INDEX=0},"./src/main/js/utils/async.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;t.Deferred=class{constructor(e){this.timeOut=e,this.timer=null}run(e){this.cancel(),this.timer=setTimeout((()=>{e(),this.cancel()}),this.timeOut)}cancel(){null!=this.timer&&clearTimeout(this.timer)}}},"./src/main/js/utils/collections.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pushTo=function(e,t){return(e=null!=e?e:[]).push(t),e},t.sameArrayValues=function(e,t){const s=new Set(e),i=new Set(t);return e.length==t.length&&[...s].every((e=>i.has(e)))},t.enumNames=function(e){return Object.values(e).filter((e=>"string"==typeof e))},t.enumIds=function(e){return Object.keys(e).filter((e=>!isNaN(Number(e)))).map((e=>Number(e)))}},"./src/main/js/utils/log.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.log=t.Log=void 0,t.hideLogTags=o,t.showLogTags=l,t.hiddenLogTags=r,t.knownLogTags=c,t.resetLogTags=function(){n.clear(),i.clear()};class s{constructor(e=""){this.tag=e,""!=e&&(n=n.add(e))}info(...e){(""==this.tag||n.has(this.tag)&&!i.has(this.tag))&&(this.tag?console.log(...["|",this.tag,"|"].concat(e)):console.log(...e))}}t.Log=s,t.log=new s;let i=new Set,n=new Set;function o(...e){0==e.length?i=new Set(n):e.forEach((e=>i.add(e)))}function l(...e){0==e.length?i.clear():e.forEach((e=>i.delete(e)))}function r(){return Array.from(i).sort()}function c(){return Array.from(n).sort()}(function(e){e.log={},e.log.show=l,e.log.hide=o,e.log.hidden=r,e.log.all=c})(window)},"./src/main/js/view/button_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonElement=void 0;const i=s("./src/main/js/utils/log.ts"),n="nav-btn-on";var o;!function(e){e[e.PRESS=0]="PRESS",e[e.ACTIVATOR=1]="ACTIVATOR",e[e.TOGGLER=2]="TOGGLER"}(o||(o={}));t.ButtonElement=class{constructor(e,t){this.buttonElement=e,this.changeListener=t,this.log=new i.Log("ButtonElement"),e.hasClass("nav-btn-toggler")?(this.buttonType=o.TOGGLER,this._isOn=e.hasClass(n)):e.hasClass("nav-btn-activator")?(this.buttonType=o.ACTIVATOR,this._isOn=e.hasClass(n)):(this.buttonType=o.PRESS,this._isOn=!1),this.log.info("ButtonType",this.buttonType)}init(){return this}activate(){this.buttonElement.on("click",(()=>{this.canToggleOnClick()?(this.toggle(),this.changeListener(this._isOn)):this.canClicked()&&this.changeListener(!0)})),this.buttonElement.prop("disabled",!1)}deactivate(){this.buttonElement.off("click"),this.buttonElement.prop("disabled",!0)}get isOn(){return this._isOn}toggle(e=this._isOn){return this.buttonType!==o.PRESS&&(this._isOn===e?e:(this._isOn=e,this.log.info("Toggling to",this._isOn),this._isOn?this.buttonElement.addClass(n):this.buttonElement.removeClass(n),this._isOn))}canToggleOnClick(){return this.buttonType===o.TOGGLER||this.buttonType===o.ACTIVATOR&&!this._isOn}canClicked(){return this.buttonType===o.PRESS}}},"./src/main/js/view/details_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DetailsElement=t.DetailsElementFactory=void 0;const i=s("./src/main/js/model/specitems.ts"),n=s("./src/main/js/utils/log.ts"),o=s("./src/main/js/model/change_event.ts"),l=".specitem-id",r="#details-status",c="#details-needs",a="#details-covers",h="#details-tags",d="#details-source",m="#details-comments",u="#details-dependencies",p=Array.of(r,c,a,h,d,m,u);t.DetailsElementFactory=class{build(e,t,s){return new f(e,t,s)}};class f{constructor(e,t,s){this.specItems=e,this.project=t,this.oftState=s,this.log=new n.Log("DetailsElement"),this.changeListener=e=>{e.handleSelectionChange(((e,t)=>this.selectionChangeListener(e,t)))},this.tableElement=$("#details-table")}init(){return this.deactivate(),this}activate(){this.tableElement.removeAttr("disabled"),this.oftState.addChangeListener(this.changeListener,o.EventType.Focus,o.EventType.Selection)}deactivate(){this.oftState.removeChangeListener(this.changeListener),this.tableElement.attr("disabled","disabled"),this.clearTable()}isActive(){return null!=this.tableElement.attr("disabled")}updateTable(e){if(null==e)return this.log.info("Clearing description"),void this.clearTable();this.log.info("Updating description for",e.index),$(l).text(this.createNavHeaderLabel(e)),$(r).text(this.createStatusValue(e)),$(c).text(this.createTypesValue(e.needs)),$(a).text(this.createTypesValue(e.provides)),$(h).text(this.createTagsValue(e)),$(d).html(this.createSourceValue(e)),$(m).html(this.createCommentsValue(e)),this.replaceHyperlinkedSpecItems($(u),e.depends)}clearTable(){$(l).html(""),p.forEach((e=>$(e).html("")))}createNavHeaderLabel(e){return e.title!=e.name?`#${e.index} ${e.title} [${e.id}]`:`#${e.index} [${e.id}]`}createStatusValue(e){const t=this.project.getFieldModel(i.STATUS_FIELD_NAMES[0])[e.status].name;return null!=t?t:""}createTypesValue(e){const t=this.project.getTypeFieldModel();return e.map((e=>t[e].label)).join(", ")}createTagsValue(e){const t=this.project.getFieldModel(i.TAG_FIELD_NAMES[0]);return e.tags.map((e=>t[e].name)).join(", ")}createSourceValue(e){return`<a href="file://${e.sourceFile}">${e.sourceFile}</a>, Line ${e.sourceLine}`}createCommentsValue(e){return e.comments}replaceHyperlinkedSpecItems(e,t){e.find("a._specitem-hyperlink").off("click"),e.html(t.map((e=>`[<a class="_specitem-hyperlink" href="${e}">${this.specItems[e].title}</a>]`)).join(", ")),this.addHyperlinkClickEvent(e)}addHyperlinkClickEvent(e){this.log.info("set hyperlink",$("a._specitem-hyperlink")),e.find("a._specitem-hyperlink").on("click",(e=>{e.preventDefault();const t=e.target.getAttribute("href");if(t){this.log.info("HYPERLINK",t);const e=Number.parseInt(t);this.oftState.selectAndShowItem(e)}}))}selectionChangeListener(e,t){this.log.info("selectionChangeListener index",e,"focus",t.focusIndex);const s=null!=e?e:t.focusIndex;this.updateTable(null!=s?this.specItems[s]:null)}}t.DetailsElement=f},"./src/main/js/view/expandable_elements.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandableElements=void 0;t.ExpandableElements=class{init(){$(".expandable").each(((e,t)=>{const s=$(t),i=s.data("title");s.wrapInner('<div class="_expandable-content visible"></div>'),s.prepend(`<div class="_expandable-header"><span>${i}</span></div>`);s.find("._expandable-header > span").on("click",(()=>this.toggleExpansion(s)))}))}toggleExpansion(e){e.children().first().toggleClass("collapsed"),$(e.children()[1]).toggleClass("visible")}}},"./src/main/js/view/filter_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterElement=t.FilterElementFactory=void 0;const i=s("./src/main/js/utils/log.ts"),n=s("./src/main/js/utils/collections.ts"),o=s("./src/main/js/model/filter.ts"),l=s("./src/main/js/view/navbar_element.ts"),r=s("./src/main/js/model/change_event.ts");t.FilterElementFactory=class{build(e,t,s,i){return new c(e,t,s,i)}};class c{constructor(e,t,s,n){this.id=e,this.filterModel=s,this.oftState=n,this.selectionIndexes=[],this.navbarElement=void 0,this.log=new i.Log("FilterElement"),this.filtersChangeListener=e=>{e.handleFilterChange(((e,t)=>this.filtersChanged(e)))},this.selectElement=$(t)}init(){return this.selectElement.attr("multiple","true"),this.addAllNoneSelector(),this.appendFilterValues(),this.deactivate(),this}activate(){var e;this.selectElement.removeAttr("disabled"),this.selectElement.on("change",(()=>this.notifySelectionChanged(this.selectElement))),this.oftState.addChangeListener(this.filtersChangeListener,r.EventType.Filters),null===(e=this.navbarElement)||void 0===e||e.activate()}deactivate(){var e;null===(e=this.navbarElement)||void 0===e||e.deactivate(),this.selectElement.attr("disabled","disabled"),this.selectElement.off("change"),this.oftState.removeChangeListener(this.filtersChangeListener)}isActive(){return null!=this.selectElement.attr("disabled")}appendFilterValues(){this.selectElement.prop("size",this.filterModel.length),this.filterModel.forEach(((e,t)=>{const s=e.color?`style="color:${e.color}"`:"",i=e.item_count>=0?`&nbsp;&nbsp;(${e.item_count})`:"",n=c.toSelectionId(this.id,t);this.selectElement.append(`<option id="${n}" ${s}>${e.name}${i}</option>`)})),this.toggleOff(!0)}addAllNoneSelector(){const e=this.selectElement.parent().parent().find("._expandable-header");e.append(`\n            <div class="nav-bar _filter-nav-bar">\n                <a id="${this.id}-btn-all" class="nav-btn _img-filter-all" href="#" ></a>\n                <a id="${this.id}-btn-off" class="nav-btn nav-btn-activator _img-filter-off nav-btn-on" href="#"></a>\n            </div>\n        `),this.navbarElement=new l.NavbarElement(e),this.navbarElement.setChangeListener(`${this.id}-btn-all`,(()=>this.selectAll())),this.navbarElement.setChangeListener(`${this.id}-btn-off`,(()=>this.selectOff())),this.navbarElement.init()}selectAll(){this.selectElement.children("option").each(((e,t)=>{$(t).prop("selected",!0)})),this.selectElement.trigger("change")}selectOff(){this.selectElement.children("option").each(((e,t)=>{$(t).prop("selected",!1)})),this.selectElement.trigger("change")}notifySelectionChanged(e){this.log.info("selectionChanged",this.id," ",this.toSelectionIndexes(e));const t=new Map([[this.id,new o.SelectionFilter(this.id,this.toSelectionIndexes(e))]]);this.oftState.selectFilters(t)}toSelectionIndexes(e){return e.find("option:selected").map(((e,t)=>c.toSelectionIndex(t))).toArray()}static toSelectionId(e,t){return`${e}_${t}`}static toSelectionIndex(e){return parseInt(e.id.replace(/^[A-Za-z0-9]+_/,""))}filtersChanged(e){this.log.info("filtersChanged index=",this.id,"filters",e);const t=this.getSelectionIndexes(e.get(this.id));this.setSelections(t)}setSelections(e){this.log.info("setSelections for",this.id,"changedIndexes",e,"hasChanges",(0,n.sameArrayValues)(this.selectionIndexes,e)),(0,n.sameArrayValues)(this.selectionIndexes,e)||(this.selectionIndexes=e,this.selectElement.children("option").each(((t,s)=>{$(s).prop("selected",e.includes(t))})),this.toggleOff(0==e.length))}toggleOff(e){var t,s;this.selectElement.children("option").each(((t,s)=>{e?$(s).addClass("_filter-item-off"):$(s).removeClass("_filter-item-off")})),null===(s=null===(t=this.navbarElement)||void 0===t?void 0:t.getButton(`${this.id}-btn-off`))||void 0===s||s.toggle(e)}getSelectionIndexes(e){return null!=e&&e instanceof o.SelectionFilter?e.filterIndexes:[]}}t.FilterElement=c},"./src/main/js/view/filters_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersElement=void 0;const i=s("./src/main/js/view/filter_element.ts");t.FiltersElement=class{constructor(e,t,s=new i.FilterElementFactory){this.filterModels=e,this.oftState=t,this.filterElementFactory=s}init(){$(".filter").each(((e,t)=>{var s;let i=null!==(s=null==t?void 0:t.id)&&void 0!==s?s:"";this.filterElementFactory.build(i||"",t,this.filterModels.get(i),this.oftState).init().activate()}))}}},"./src/main/js/view/focus_spec_item_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FocusSpecItemElement=void 0;const i=s("./src/main/js/view/spec_item_element.ts"),n=s("./src/main/js/model/oft_state.ts"),o=s("./src/main/js/utils/log.ts"),l="<<<<  is covering    <<<<",r=">>>>  is covered by  >>>>";class c extends i.SpecItemElement{constructor(e,t,s,i){super(e,s,i),this.coverType=t,this.log=new o.Log("FocusSpecItemElement"),this.log.info("new FocusSpecItemElement")}cover(e){this.log.info("cover index",this.specItem.index),this.updateCoverTypeElement(e)}notifyFocus(e){this.log.info("notifyFocus unfocus index",this.specItem.index),this.oftStateController.unFocusItem(this.specItem.index)}notifySelection(){return!!this.isActive()&&(!!this.notifySwitchCoverType()||super.notifySelection())}notifySwitchCoverType(){if(null==this.parentElement)return!1;if(!this.selected)return!1;const e=(()=>{switch(this.coverType){case n.CoverType.covering:return n.CoverType.coveredBy;case n.CoverType.coveredBy:return n.CoverType.covering;default:throw new Error(`Unknown coverType: ${this.coverType}`)}})();return this.log.info("switchCoverType coverType to ",e),super.notifyFocus(e),!0}createTemplate(){const e=this.createCoverageTemplate(),t=this.createDraftTemplate(),s=this.createCoverTypeTemplate(),i=$(`\n            <div class="specitem _focuspecitem" id="${this.elementId}">\n                <div style="position:relative">    \n                    <div class="_specitem-pin _img-button-unpin">\n                    </div>\n                    <div class="_specitem-header">\n                        <div class="_specitem-name">[${this.typeLabel}:${this.specItem.title}${this.specItem.version>1?":"+this.specItem.version:""}]</div>${t}\n                        <div class="_specitem-status">${e}</div>                    \n                    </div>\n                    <div class="_specitem-body">\n                        ${this.specItem.content}                \n                    </div>\n                </div>                \n                ${s}\n            </div>             \n        `);return this.addListenersToTemplate(i)}createCoverTypeTemplate(){return this.coverType==n.CoverType.covering?`<div class="_specitem-cover-type">${l}</div>`:`<div class="_specitem-cover-type">${r}</div>`}updateCoverTypeElement(e){this.log.info("updateCoverTypeElement index",this.specItem.index,"coverType",e,"changed",e!=this.coverType),e!=this.coverType&&(this.coverType=e,this.element.find("._specitem-cover-type").html(this.coverType==n.CoverType.covering?l:r))}}t.FocusSpecItemElement=c},"./src/main/js/view/navbar_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarElement=void 0;const i=s("./src/main/js/utils/log.ts"),n=s("./src/main/js/view/button_element.ts");t.NavbarElement=class{constructor(e){this.element=e,this.buttons=new Map,this.changeListeners=new Map,this._isActive=!1,this.log=new i.Log("Navbar_element"),this.log.info("NavbarElement for ",e),this.navbarElement=this.element.hasClass("nav-bar")?this.element:this.element.find(".nav-bar")}init(){return this.log.info("init"),this.navbarElement.find(".nav-btn").each(((e,t)=>{const s=$(t),i=""!==t.id?t.id:`${e}`;this.log.info("ButtonElement.id",i);const o=new n.ButtonElement(s,(e=>this.notifyChange(i,e)));this.buttons.set(i,o),o.init()})),this}activate(){this._isActive=!0,this.buttons.forEach((e=>e.activate())),this.navbarElement.prop("disabled",!1)}deactivate(){this.navbarElement.prop("disabled",!0),this.buttons.forEach((e=>e.deactivate())),this._isActive=!1}isActive(){return this._isActive}setChangeListener(e,t){this.log.info(`Set change listener for ${e} ${this.buttons.has(e)}`),this.changeListeners.set(e,t)}unsetChangeListener(e){this.changeListeners.delete(e)}getButton(e){return this.buttons.get(e)}notifyChange(e,t){if(this.log.info(`Notify change for ${e} with state ${t}`),!this.isActive)return;const s=this.changeListeners.get(e);void 0!==s&&s(e,t)}}},"./src/main/js/view/search_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchElement=void 0;const i=s("./src/main/js/utils/log.ts"),n=s("./src/main/js/model/filter.ts"),o=s("./src/main/js/model/change_event.ts"),l=s("./src/main/js/utils/async.ts");t.SearchElement=class{constructor(e){this.oftState=e,this.log=new i.Log("SearchFromElement"),this.inputLabel="use '+' for content",this.formElement=null,this.inputElement=null,this.filterOrFocusChangeListener=e=>{this.log.info("filterOrFocusChangeListener",e.oftState),e.handleFilterChange(((e,t)=>this.filterChanged(e)))}}init(){return this.log.info("init"),this.addSearchForm(),this.deactivate(),this}activate(){this.log.info("activate"),this.oftState.addChangeListener(this.filterOrFocusChangeListener,o.EventType.Filters),null!=this.inputElement&&(this.inputElement.disabled=!1)}deactivate(){this.log.info("deactivate"),null!=this.inputElement&&(this.inputElement.disabled=!0),this.oftState.removeChangeListener(this.filterOrFocusChangeListener)}addSearchForm(){const e=$("#search");this.formElement=e[0],e.append(`\n            <form class="_search">\n                <input class="_search-input" type="text" placeholder="${this.inputLabel}">\n                <button class="_search-clear" type="submit"></button>\n            </form>\n        `);const t=e.find("form input[type='text']");this.inputElement=t[0];const s=new l.Deferred(300);t.on("keyup",(e=>{e.preventDefault(),s.run((()=>this.notifyInputChanged(e.target.value)))}));e.find("form button._search-clear").on("click",(e=>{e.preventDefault(),this.notifyInputChanged("")}))}notifyInputChanged(e){let t=!1,s=n.NameFilterTarget.name;e.startsWith("+")&&(e=e.substring(5).trimStart(),s=n.NameFilterTarget.content),e.match(/^[a-zA-Z0-9_-]*$/)||(t=!0),this.log.info("notifyInputChanged value",e,"regEx",t,"target",s);const i=new Map([[n.NameFilter.FILTER_NAME,new n.NameFilter(e,t,s)]]);this.oftState.selectFilters(i)}filterChanged(e){this.log.info("filterChanged filters",e),e.has(n.NameFilter.FILTER_NAME)?this.changeValue(e.get(n.NameFilter.FILTER_NAME).acceptedName):this.changeValue("")}changeValue(e){var t,s,i;const n=(null===(t=this.inputElement)||void 0===t?void 0:t.value.startsWith("+"))?null===(s=this.inputElement)||void 0===s?void 0:s.value.substring(5).trimStart():null===(i=this.inputElement)||void 0===i?void 0:i.value;this.log.info("changeValue from",n,"to",e),null!=this.inputElement&&e!=n&&(this.inputElement.value=e)}}},"./src/main/js/view/spec_item_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpecItemElement=void 0;const i=s("./src/main/js/model/filter.ts"),n=s("./src/main/js/utils/log.ts"),o=s("./src/main/js/model/oft_state.ts"),l=s("./src/main/js/model/specitems.ts"),r="_specitem-selected",c="_specitem-mouse-enter",a="_specitem-mouse-leave";class h{constructor(e,t,s){var i,o;this.specItem=e,this.oftStateController=t,this.project=s,this.log=new n.Log("SpecItemElement"),this.parentElement=null,this.selected=!1,this._isActive=!1,this.elementId=h.toElementId(e.index);const l=s.getTypeFieldModel()[this.specItem.type];this.typeLabel=null!==(o=null!==(i=l.label)&&void 0!==i?i:l.name)&&void 0!==o?o:l.id,this.element=this.createTemplate()}insertToAt(e,t=-1){if(null!==this.parentElement)throw Error("Already attached to parentElement");-1===t||e.is(":empty")?e.append(this.element):0===t?e.find("div:eq(1)").before(this.element):e.find(`div:eq(${t})`).after(this.element),this.parentElement=e}remove(){if(null==this.parentElement)throw Error("No parentElement");this.parentElement.children(`#${this.elementId}`).remove(),this._isActive=!1}activate(){if(!this.isActive()){if(null==this.parentElement)throw Error("No parentElement");this.element.show(),this._isActive=!0}}deactivate(){if(this.isActive()){if(null==this.parentElement)throw Error("No parentElement");this.element.hide(),this._isActive=!1}}isActive(){return null!=this.parentElement&&this._isActive}getScrollPosition(){if(null==this.parentElement)return;return this.element.offset().top-this.parentElement.offset().top+this.parentElement.scrollTop()}select(){this.log.info("select",this.specItem.index),this.isActive()&&(this.selected||(this.selected=!0,this.element.addClass(r),this.element.removeClass(c),this.element.removeClass(a)))}unselect(){this.log.info("unselect index",this.specItem.index),this.isActive()&&this.selected&&(this.selected=!1,this.element.removeClass(r))}notifySelection(){return!!this.isActive()&&(this.selected?(this.log.info("notifySelection already selected"),!0):(this.log.info("notifySelection index",this.specItem.index),this.oftStateController.selectItem(this.specItem.index),!0))}notifyFocus(e=o.CoverType.coveredBy){if(!this.isActive())return;this.log.info("notifyFocus index",this.specItem.index);const t=(()=>{switch(e){case o.CoverType.covering:return this.log.info("covering ",this.specItem.covering),this.specItem.covering.length>0?this.specItem.covering:[-1];case o.CoverType.coveredBy:return this.log.info("coveredBy ",this.specItem.coveredBy),this.specItem.coveredBy.length>0?this.specItem.coveredBy:[-1];default:return this.log.info("any"),[]}})(),s=new Map([[i.IndexFilter.FILTER_NAME,new i.IndexFilter(t)]]);this.oftStateController.focusItem(this.specItem.index,e,s)}static toElementId(e){return`to_${e.toString()}`}mouseEntered(){this.selected||(this.element.addClass(c),this.element.removeClass(a))}mouseLeave(){this.selected||(this.element.addClass(a),this.element.removeClass(c))}createTemplate(){const e=this.createCoverageTemplate(),t=this.createDraftTemplate(),s=this.specItem.title!=this.specItem.name?`<b>${this.specItem.title}</b><br><br>`:"",i=$(`\n            <div class="specitem" id="${this.elementId}">\n                <div style="position:relative">    \n                    <div class="_specitem-pin _img-button-pin">\n                    </div>\n                    <div class="_specitem-header">\n                        <div class="_specitem-name">[${this.specItem.id}]</div>${t}\n                        <div class="_specitem-status">${e}</div>\n                    </div>\n                    <div class="_specitem-body">\n                        ${s}\n                        ${this.specItem.content}                \n                    </div>                \n                </div>\n            </div>             \n        `);return this.addListenersToTemplate(i)}createCoverageTemplate(){return this.project.getTypeFieldModel().map(((e,t)=>{switch(this.specItem.covered[t]){case 3:return`<div id="${this.elementId}_cov${t}" class="_specitem-missing">${e.label}</div>`;case 2:return`<div id="${this.elementId}_cov${t}" class="_specitem-covered">${e.label}</div>`;case 1:return`<div id="${this.elementId}_cov${t}" class="_specitem-uncovered">${e.label}</div>`;default:return`<div id="${this.elementId}_cov${t}" class="_specitem-none">${e.label}</div>`}})).join("")}createDraftTemplate(){const e=this.project.getFieldModel(l.STATUS_FIELD_NAMES[0])[this.specItem.status].name;return this.specItem.status!=l.STATUS_ACCEPTED_INDEX&&null!=e?`<div class="_specitem-draft">(${e})</div>`:""}addListenersToTemplate(e){return e.on({click:()=>this.notifySelection(),mouseenter:()=>this.mouseEntered(),mouseleave:()=>this.mouseLeave()}),e.find("._specitem-pin").on({click:()=>this.notifyFocus()}),e}}t.SpecItemElement=h},"./src/main/js/view/spec_items_element.ts":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpecItemsElement=void 0;const i=s("./src/main/js/view/navbar_element.ts"),n=s("./src/main/js/utils/log.ts"),o="#specitem-count";t.SpecItemsElement=class{constructor(e){this.oftState=e,this.specItemCountElement=$(o),this.specItemFocusCountElement=$("#specitem-count-focused"),this.log=new n.Log("SpecItemsElement"),this.navbarElement=new i.NavbarElement($("#content-nav-bar")),this.specItemCountElement=$(o)}init(){return this.navbarElement.setChangeListener("btn-scroll-to-selection",(()=>this.scrollToSelection())),this.navbarElement.setChangeListener("btn-history-back",(()=>this.changeOftStateToPreviousState())),this.navbarElement.setChangeListener("btn-history-forward",(()=>this.changeOftStateToNextState())),this.navbarElement.init(),this}activate(){this.navbarElement.activate()}deactivate(){this.navbarElement.deactivate()}isActive(){return this.navbarElement.isActive()}updateNumberOfItems(e,t){this.log.info("updateShownItems number:",e),this.specItemCountElement.text(e),t?this.specItemFocusCountElement.show():this.specItemFocusCountElement.hide()}scrollToSelection(){this.log.info("scrollToSelection"),this.oftState.selectItem()}changeOftStateToPreviousState(){this.oftState.toPreviousState()}changeOftStateToNextState(){this.oftState.toNextState()}}}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{s.r(i);s("./src/main/css/openfasttrace.scss");var e=s("./src/main/js/view/expandable_elements.ts"),t=s("./src/main/js/controller/spec_items_controller.ts"),n=s("./src/main/js/controller/oft_state_controller.ts"),o=s("./src/main/js/view/filters_element.ts"),l=s("./src/main/js/controller/oft_state_builder.ts"),r=s("./src/main/js/view/search_element.ts"),c=s("./src/main/js/view/details_element.ts"),a=s("./src/main/js/view/spec_items_element.ts"),h=s("./src/main/js/model/project.ts"),d=s("./src/main/js/model/specitems.ts");$((function(){console.log("START");var s=window.specitem.project,i=window.specitem.specitems,m=new Map([["type",s.type_count],["uncovered",s.uncovered_count],["status",s.status_count],["tags",s.tags_count]]),u=new h.Project(s.projectName,s.types,d.TYPED_FIELD_NAMES,s.tags,d.TAG_FIELD_NAMES,s.status,d.STATUS_FIELD_NAMES,s.item_count,s.item_covered,s.item_uncovered,m,window.metadata.fields),p=(new l.OftStateBuilder).fromModel(u.fieldModels,i);Number.parseInt(window.location.hash.substring(1))>0&&p.setSelectedIndex(Number.parseInt(window.location.hash.substring(1)));var f=p.build(),v=new n.OftStateController(f);(new e.ExpandableElements).init(),new o.FiltersElement(u.fieldModels,v).init(),new r.SearchElement(v).init().activate();var g=new a.SpecItemsElement(v);g.init().activate(),new t.SpecItemsController(v,g,u).init(i),function(e){$("#project-name").append(e.projectName)}(u),function(e){$("#specitem-total").append(e.itemCount),$("#specitem-covered").append(e.itemCovered),$("#specitem-uncovered").append(e.itemUncovered)}(u),(new c.DetailsElementFactory).build(i,u,v).init().activate(),v.init(),console.log("ACTIVE")}))})()})();
//# sourceMappingURL=openfasttrace.js.map