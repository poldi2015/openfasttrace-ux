/*
  OpenFastTrace UX

 Copyright (C) 2024-2025 itsallcode.org, Bernd Haberstumpf

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as
 published by the Free Software Foundation, either version 3 of the
 License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public
 License along with this program.  If not, see
 <http://www.gnu.org/licenses/gpl-3.0.html>.
*/

.select-container {
  width: 100%;
  position: relative;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  user-select: none;
  font-size: 13px;
}

.select-entries {
  margin: 10px 12px 8px;
  background-color: var(--col-table-even-value);
  border: 1px solid var(--col-border);
  border-radius: 8px;
  overflow-y: auto;
  overflow-x: hidden;
  // Height is set dynamically via JavaScript based on number of items
  //height: 20px;
  max-width: 245px;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;

  &:hover {
    outline: none;
    border-color: var(--col-link);
    box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
  }
}

.select-entry {
  display: flex;
  align-items: center;
  padding: 3px 12px 3px 10px;
  cursor: pointer;
  border-radius: 3px; // Remove border-radius for inner items
  transition: background-color 0.15s ease, transform 0.1s ease;
  gap: 10px;
  color: var(--col-text);
  box-sizing: border-box;
  min-width: 0; // Allow flex items to shrink below content size
  user-select: none; // Prevent text selection during drag

  &:first-child {
    border-radius: 8px 8px 0 0; // Round top corners for first item
  }

  &:last-child {
    border-radius: 0 0 8px 8px; // Round bottom corners for last item
  }

  &:only-child {
    border-radius: 8px; // Round all corners if only one item
  }

  &:hover {
    background-color: var(--col-table-odd-value);
  }

  &:active {
    transform: scale(0.98);
  }

  &.selected {
    background-color: var(--col-selected);
    font-weight: 500;

    &:hover {
      background-color: var(--col-selected);
      filter: brightness(0.95);
    }
  }
}

.select-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
}

.select-text {
  flex: 1;
  color: var(--col-text);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0; // Allow text to shrink and enable ellipsis
}

.select-count {
  color: var(--col-count);
  font-size: 12px;
  margin-left: auto;
  padding-left: 8px;
  flex-shrink: 0; // Prevent count from being compressed
}

.select-disabled {
  opacity: 0.5;
  pointer-events: none;
}

// Gray out text and count when no entries are selected
.select-container.no-selection {
  .select-entry:not(.selected) {
    .select-text,
    .select-count {
      color: var(--col-disabled);
      opacity: 0.6;
    }
  }
}

// Animation for when items are disabled/off
.select-entry.filter-item-off {
  color: var(--col-disabled) !important;
  opacity: 0.5;

  .select-text,
  .select-count {
    color: var(--col-disabled) !important;
  }
}
